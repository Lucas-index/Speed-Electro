<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho - SpeedElectro</title>
    <link rel="stylesheet" href="../Paginas/Estilos/styl.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header" id="header">
        <div class="container">
            <div class="header-content">
                <a href="/Speed-Electro/index.html" class="logo">
                    <i class="fas fa-desktop"></i>
                    <span>Speed<span class="logo-accent">Electro</span></span>
                </a>

                <nav class="nav-desktop">
    <a href="/Speed-Electro/index.html" class="nav-link">Início</a>
    <a href="/Speed-Electro/index.html#servicos" class="nav-link">Serviço</a>
    <a href="/Speed-Electro/index.html#produtos" class="nav-link">Produto</a>
    <a href="/Speed-Electro/index.html#montagem" class="nav-link">Monte seu PC</a>
</nav>
                <div class="header-actions">
                    <button class="icon-btn" id="searchBtn" title="Buscar">
                        <i class="fas fa-search"></i>
                    </button>
                    <!-- Adicionado o ícone do carrinho com contador para consistência -->
                    <a href="../Paginas/Carinho.html" class="icon-btn cart-btn" title="Carrinho">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    <a href="../Paginas/Cadastro.html" class="icon-btn" title="Minha Conta">
                        <i class="fas fa-user"></i>
                    </a>
                </div>

                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
    </header>

    <section class="products" style="padding-top: 120px;">
        <div class="container">
            <div class="section-header">
                <div class="section-badge">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Carrinho de Compras</span>
                </div>
                <h2 class="section-title">
                    Seus <span class="text-gradient">Produtos</span>
                </h2>
                <p class="section-description">
                    Revise seus itens antes de finalizar a compra
                </p>
            </div>

            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 48px; align-items: start;">
                <div class="service-card" style="padding: 32px;">
                    <div id="cartItems">
                        <!-- Itens do carrinho serão renderizados aqui pelo JavaScript -->
                    </div>

                    <div style="margin-top: 24px; display: flex; gap: 16px;">
                        <a href="../Paginas/pagedeprodutos.html" class="btn btn-outline" style="flex: 1;">
                            <i class="fas fa-arrow-left"></i>
                            Continuar Comprando
                        </a>
                        <button onclick="clearCart()" class="btn btn-outline-red">
                            <i class="fas fa-trash"></i>
                            Limpar Carrinho
                        </button>
                    </div>
                </div>

                <div class="service-card" style="padding: 32px; position: sticky; top: 100px;">
                    <h3 style="color: var(--white); margin-bottom: 24px;">Resumo do Pedido</h3>
                    
                    <div style="margin-bottom: 24px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--gray-400);">Subtotal (<span id="itemCount">0</span> itens):</span>
                            <span id="subtotalValue" style="color: var(--white);">R$ 0,00</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--gray-400);">Frete:</span>
                            <span id="freightValue" style="color: var(--green-500);">Grátis</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--gray-400);">Desconto:</span>
                            <span id="discountValue" style="color: var(--red-500);">-R$ 0,00</span>
                        </div>
                        <hr style="border: none; border-top: 1px solid var(--gray-800); margin: 16px 0;">
                        <div style="display: flex; justify-content: space-between; font-size: 18px; font-weight: 600;">
                            <span style="color: var(--white);">Total:</span>
                            <span id="totalValue" style="color: var(--orange-500);">R$ 0,00</span>
                        </div>
                        <p id="installments" style="color: var(--gray-400); font-size: 12px; text-align: center; margin-top: 8px;">
                            </p>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <label for="couponInput" style="color: var(--gray-300); font-size: 14px; margin-bottom: 8px; display: block;">Cupom de Desconto</label>
                        <div style="display: flex; gap: 8px;">
                            <input type="text" id="couponInput" placeholder="Digite o cupom" style="flex: 1; padding: 12px; background: var(--gray-800); border: 1px solid var(--gray-700); border-radius: 6px; color: var(--white);">
                            <button class="btn btn-outline" onclick="applyCoupon()">Aplicar</button>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-full btn-large" onclick="checkout()">
                        <i class="fas fa-credit-card"></i>
                        Finalizar Compra
                    </button>

                    <div style="margin-top: 16px; text-align: center;">
                        <p style="color: var(--gray-400); font-size: 12px; margin-bottom: 8px;">Pagamento seguro com:</p>
                        <div style="display: flex; justify-content: center; gap: 8px;">
                            <i class="fab fa-cc-visa" style="color: var(--gray-400); font-size: 24px;"></i>
                            <i class="fab fa-cc-mastercard" style="color: var(--gray-400); font-size: 24px;"></i>
                            <i class="fab fa-cc-paypal" style="color: var(--gray-400); font-size: 24px;"></i>
                            <i class="fas fa-barcode" style="color: var(--gray-400); font-size: 24px;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Array de produtos disponíveis para adicionar ao carrinho.
        // Os caminhos das imagens foram ajustados para serem relativos ao diretório raiz,
        // o que funciona para ambas as páginas (index.html e Carinho.html).
        const products = [
            {
                id: 1,
                name: 'PC Gamer RTX 4070 Super',
                description: 'RTX 4070 Super 12GB • Ryzen 7 5700X • 16GB DDR4',
                price: 4999.00,
                quantity: 1,
                image: 'IMG2.png' // Caminho da imagem ajustado
            },
            {
                id: 2,
                name: 'Workstation Pro Creator',
                description: 'RTX 4080 16GB • Intel i7-13700K • 32GB DDR5 + SSD 2TB',
                price: 7299.00,
                quantity: 1,
                image: 'IMG.png' // Caminho da imagem ajustado
            },
            {
                id: 3,
                name: 'PC Entry Level Gamer',
                description: 'GTX 1660 Super 6GB • Ryzen 5 4600G • 16GB DDR4 + SSD 512GB',
                price: 1899.00,
                quantity: 1,
                image: 'IMG4.png' // Caminho da imagem ajustado
            },
            {
                id: 4,
                name: 'PC Extreme Gaming 4K',
                description: 'RTX 4090 24GB • Intel i9-13900K • 64GB DDR5 + SSD 4TB',
                price: 12999.00,
                quantity: 1,
                image: 'IMG5.png' // Caminho da imagem ajustado
            },
            {
                id: 5,
                name: 'Working Pro Creator',
                description: 'RX 9070 XT 16GB • Ryzen 7 9800X3d • 64GB DDR5 + SSD 3TB',
                price: 10599.00,
                quantity: 1,
                image: 'IMG3.png' // Caminho da imagem ajustado
            },
            {
                id: 6,
                name: 'Workstation Compact',
                description: 'RTX 4060 Ti 16GB • Ryzen 7 7700X • 32GB DDR5 + SSD 1TB',
                price: 3499.00,
                quantity: 1,
                image: 'IMG6.png' // Caminho da imagem ajustado
            }
        ];

        // Função para obter o carrinho do localStorage ou iniciar um novo
        function getCart() {
            const cart = localStorage.getItem('cart');
            return cart ? JSON.parse(cart) : [];
        }

        // Função para salvar o carrinho no localStorage
        function saveCart(cart) {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Função para atualizar o contador do carrinho na header
        function updateCartCount() {
            const cart = getCart();
            const cartCountElement = document.getElementById('cartCount');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountElement.textContent = totalItems;
        }

        // Função para adicionar um produto ao carrinho
        function addToCart(productId) {
            const productToAdd = products.find(p => p.id === productId);
            if (productToAdd) {
                const cart = getCart();
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...productToAdd, quantity: 1 });
                }
                
                saveCart(cart);
                updateCartCount();
                alert(`"${productToAdd.name}" adicionado ao carrinho!`);
            }
        }

        // Adiciona um event listener para os botões de "Adicionar ao Carrinho"
        document.addEventListener('DOMContentLoaded', () => {
            const addToCartButtons = document.querySelectorAll('.add-to-cart');
            addToCartButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const productId = parseInt(button.getAttribute('data-product-id'));
                    addToCart(productId);
                });
            });

            // Chama a função para atualizar o contador do carrinho ao carregar a página
            updateCartCount();
        });
    </script>
</body>
</html>
